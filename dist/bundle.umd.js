!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).Toolkit={})}(this,(function(e){"use strict";function t(e){return new Promise(((t,n)=>{const r=new FileReader;r.addEventListener("load",(()=>{t(r)})),r.addEventListener("error",(e=>{n(e)})),r.readAsDataURL(e)}))}var n={toDataURL:t,toImage:function(e,{width:n,height:r}){return new Promise(((o,a)=>{const i=new Image(n,r),s=webkitURL||s,d=s?s.createObjectURL(e):t(e);i.src=d,i.addEventListener("load",(()=>{o(i),s&&s.revokeObjectURL(d)})),i.addEventListener("error",(e=>a(e)))}))},fromDataURL:function(e,t){return new Promise(((n,r)=>{try{const r=e.split(",")[1],a=/^data:(.*?)(;base64)?,/,i=e.match(a)[1],s=atob(r),d=s.length,c=new Uint8Array(d);for(var o=0;o<d;o++)c[o]=s.charCodeAt(o);n(new Blob([c],{type:t||i}))}catch(e){r(e)}}))},fromCanvas:function(e,{type:t="image/jpeg",quality:n=.8}){return new Promise((r=>{e.toBlob(r,t,n)}))}};var r={fromURL:function(e){return new Promise(((t,n)=>{const r=new Image;r.addEventListener("load",(()=>{t(r)})),r.addEventListener("error",(e=>n(e))),r.src=e,r.setAttribute("crossOrigin","anonymous")}))},fromDataURL:function(e){return new Promise(((t,n)=>{const r=new Image;r.addEventListener("load",(()=>{t(r)})),r.addEventListener("error",(e=>n(e))),r.src=e}))},toCanvas:function(e){return new Promise((t=>{const n=document.createElement("canvas"),r=n.getContext("2d");n.width=e.naturalWidth,n.height=e.naturalHeight,r.drawImage(e,0,0,n.width,n.height),t(n)}))}};var o={toDataURL:function(e,t=.8,n="image/jpeg"){return new Promise((r=>{r(e.toDataURL(n,t))}))}};e.Blob=n,e.Canvas=o,e.Image=r,Object.defineProperty(e,"__esModule",{value:!0})}));
